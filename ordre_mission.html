<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªÙƒÙ„ÙŠÙ </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=N5oBAx88rkgsIT-GFyudDWJEeonGvHUien4KKBsJLv4o1OlVx7I_eQJKNVwe9zlJhqSWc4pBtbV6CVJUxf063kvevAUCA5FuOd60ei3UzwMAx73DVGAMP3DoR_o5FPB_Dryw-hw09wYzVE28GJ9lPAQxZKJo2RnEb9ZBmBL1Et0dJwW-hwer8gjwqlGz2XYZ0aMtXk1_3bXJ6EcwYlH4lI60NNdpYPOJG0X_l3RxFFb6yrYcik48vmzYDKe8hs4jR2gv4O3NvmtR2z9anVRFTZOvXhyG9YqQI1uKEUhjL03s4gHV_QVhK9KMSdM9g-EkcG5PoCPn7SsyTTMd80Vhs2NxYl6uIW9eNSW7DjhIN116YvYjGN-AXYSVOY0Vv9BWjYhdMfWMLMVxF-8WqLDFan8p0-KwOR39GsCq2ZUg_WHv_13eX5bHPkwvT86qPgvAgXswuO3v86QsFyWHAwcZp087FL8HR_10l9Bja7WfR-OvxfryORaLl24_wnVEKNgF-IB-mhJGXJl5s4d9YYMrObW0o23zbx-Di65nLHq2IZdNVupD57YvrbgCZhnVrGoG3WSATZNE198zdGpfy2DiwtnpUUSvcijRYKfXGXdBL_2mEng5ITdgcq6GS56cNgXs1t1VDBTjLGwymvSxtXI7Pfzopy_D1x6IHrxOmcdmIbhoz3Vfk4HPKpCaJb3O9e21jA2UNnADTxEdAz-Bzjsg_rSSCe3Z_bk7VFHCztQJBb2Ffurl29By37CbVsK1jkNskaIR1eAZXnSykXHzhNMwcMMwAhiszfycTNdOr8eIveuLFA3vB1tPlCXk09IvhigM1HA-C1A3RsHLDvblgVI-IqwHmsAmQGw91o4Tve6XZFfSySl3ypZDRFD9OS0c-HsYIu1qHRu4-Q-UyAeQ0__tWBnPA0uo-wzP1mubGaELgLKrxrD_4FSdGS88QBEkeExPl0eiUtpFyYwZIbferhN65Nkmn3pxfYCrfZOQRijYAoN6HOPX6Qczl_hU3NW2TtpJxJmf1vmToNLODu3uqQZrxv7maIJRb02tMazPsURYvfsV6amAiGXKuXQBkkNzppXbijCVi0UgeA8OgMjAoM-STPgn9POBqLNA0c7dQTLVPj-jhaKFOX4RdW89maKAY2KsRfz7vHwdXfG_vU2bZJCeoYLuyQ_AsiIgh_2Sz9jeTFHFcYF_NM3OaZZzmmDxmHiC3UsySQSCQa43q5HVNbiCclj1rHRNiQfpcZFqyNnc89OGGLZcqZHFE0t9nowJiZOnK3hML-h7pOGKr1bhCoxQL3Q-p2sl4ZJ4fQ3hH7fS1AUbcu9CwBKoH6BtAvQrkX_MPWol47RlnQSYAe12eIj-BqIueHqrdYSgAmVqIIDZJ4ic4HF6_6wW40oMp_P4txyAWUG6NVVxoS20J43YFtouYVoQ2Hp2_gSGOmiLHGHJ5ubkU1oqcQq5Sq3Yy9w2Ej2BOq-Z0c0oWrq88YNySb0rlZr_21H92wPY4xpfKP006VYshX7Ynh8YLS85VHjalVJ-V3_KpTv2nM1H68J8eI5rbnGKFzEJlo71aos_V-FwqrFedpWc5EMS8hnXC8AnB9K0yFjD_A0jtSjXbJrUY7G2WDXGsPkIzF7dGGTmxPT5JM-7rF04LafFL8MTUFLKq9r_V43iS63dQSKaopNbhurGHw" nonce="ceda8b53fb02ea1db6b9c257242dfae3" charset="UTF-8"></script><script type="text/javascript" src="https://me.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=ctkDbz1lLM_N8eWHrVTU5nDxlprxINHjx8V7S7blxvODkC9t-wdtQvM9Un6sbVKBk07MJmnZBYe_O43oIPmmMkUdCZt0nmx0wDZvOW8gzRwmamdatow5CUTlqxvdB0Ors95wvUfBLSMND00f2TGk_ap8l44H1YDQvwVH8xdrDuADnImpqmafpY4msgK4-kmE0A7RwBnRROLkCA3w-3m79-hWp0vuymEFpYW5JvwSMIa4LWn_tkmhM5g7p-EM441jK8Zl5iqPiWbjZpwJ4LlBrYDpaxwAPBB1AG24D7-E5IfypUDdZXA4IoWJAEHh2JW9N5VmoeXjZJNbNxCPqpNiVMyxvFxFnxeXzxwU1ThcYNutUCA2Orl_fosqJhs0W6g8_ftOKojuYZIW9CwnbfHJS9EtGESQqTN-ihKW2PVTV3FsW6yCOJPqfpp2d05-ugSJ-6rkQz90G31XEmPQkMgqj3l13HZ9EZGgb1S6amhYVVT5pfPCqE30KsnBlXkVFqTWd_BvdaBfVD2wYpId2wsPyNP0JRxjJ1uPpsAvkIqqe1LcZtj5kG-aOKFHo1MRPg_NVIEPBy6aEkZ6TfCsz5H0LTYTtqVmgl4rXl9F-kDBdI51zYBUHzsmJPYeC6rjA4CmXvpW31FF2Z-xFVs140uwasaaiSHBuE3lV4MFZR9CARMeDuN714ZJpSfcSdHnGuwxjaatiKnH9Piz2GclRLpvrovv5eHOBBiUZL3qfEMUG7hI9VI2X2OV-nNJuH1dO55JaxTzI1A5-9qupqDX-oF1Q1hkrPvL0CaXrB93ky3vhECJX7DQAxIDfYACMzjx-Y1Vo8y4dKnR71UOveMmBbnN52Mf9xyFgaXeEpzLLG09xT7s-lqt_l_4pz3ytPtZdRSlA41DabZvwknN0uNJzYm_82o96VKkzprD5UBVD35v_5yYgmSFVNNU04DGOu2lyg65QEMHzXGykOMqwZsBBODRU_8Fkuj8y6dm0byZHWgLBbpLtN-Oybja5GvEfc8MsIcPy-T0L4eRKdLcOUFmgIrJm0HS3zjWoVrjZc4Z2eot4hFT7IT8ZIH2r974eek4ZSGx329lLZ6_HgidnevGkOBBYeQWr1hREBGeoq51Yq4dPt2eblxI27BF6dUAGd9sAImdsiRJLUwrL4irR6rrNqB7kSxT_xJEqO-QzCVrtr2SYnVcUgd0kdMVSHOaec80iL9a-R7nP6PEEsTpb9unbaAT8kPEnZ_-1zqEr-_w_HCOoAEL7fuxIovK-whMhkMJDzGQ_P477wRztn_ylb0SbmFoiIpvFm_KZqd-DdgpT2u_RC6E0OLCACUqiYG4KzXNrt-62UmiRSxBKjHFxQPP7fSehFRQDxYoOZd8Lk-IwxI6NnqcsZHBiz7Yk_Vakp9ZPvRvkPC9d0feacEqqDDirhIPT4WPT8SaClBOd52IWw7u0bAqgXJ76oOWGFYLpLSW0T2_zLbqTfc4Lk0ZvcFIdLS-M5CFW63miZzAWJQ9xdiAPtyq_EtfLIfd-Q56cOLvgQOaox0mib_JgWeFzuQWxnRie5qXWCFkNQgSMdstyxrplxr3UICfwoyUuAzmV-xwTZfnkhn_EAvRM2aAcDKMgNyPpxLhT2c8FBtMv7TFK_tSrRkYbtxyygVncrLg-3cpcuNjbzAvMLZIv4VjPbDEZ2LTsKboSMm6JUXnaNgMI_8eke3kSP0UzM09JZX5QobTF3OX" nonce="1e3dd1d59b76b6569ddf074663a589dc" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        body {
            font-family: 'Amiri', sans-serif;
            
        }
        header {
            
            background: rgba(44, 62, 80, 0.95);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);

        }
        
        #documentPreview {
            font-family: 'Amiri', serif;
            position: relative;
        }

        .print-only {
            display: none;
        }
        
        .no-print {
            display: block;
        }
        
        @media print {
              @page {
                    size: A4 portrait; /* ou landscape pour horizontal */
                    margin: 0; /* supprime les marges par dÃ©faut du navigateur */
                }

                body, html {
                    width: 210mm;
                    height: 297mm;
                    margin: 0;
                    padding: 0;
                }

                .document-container {
                    width: 210mm !important;
                    height: 297mm !important;
                    margin: 0 auto;
                    box-shadow: none !important;
                    border: none !important;
                    background: white !important;
                    page-break-after: avoid;
                }
            .no-print {
                display: none !important;
            }
            
            .print-only {
                display: block !important;
                
            }
            
            .document-container {
                position: relative;
                width: 100% !important;
                height: 100vh;
                box-shadow: none !important;
                border: none !important;
                background-color: white !important;
            }

            .watermark {
                opacity: 0.1;
                position: absolute;
                width: 500px;
                height: 500px;
                top: 45%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 1;
            }
            .watermark img {
                width: 100%;
                height: 100%;
            }
            .content-layer {
                position: relative;
                z-index: 2;
            }
        }
        
        .document-preview {
            min-height: 600px;

        }
        
        .form-section {
            background: #f8fafc;
        }
        
        .signature-box {
            border: 2px dashed #cbd5e1;
            min-height: 80px;
        }
        
        .watermark {
            opacity: 0.1;
            font-size: 180px;
            position: absolute;
            width: 500px;
            height: 500px;
            top: 50%;
            bottom: 50%;
            left: 50%;
            transform: translate(-50%, -50%) ;
            pointer-events: none;
            z-index: 1;
        }
        
        .content-layer {
            position: relative;
            z-index: 2;
        }
        #previewMission, #previewNotes,
        #printMission, #printNotes {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        #documentPreview h3 {
            font-size: 22px;
            font-weight: bold;
        }

        #documentPreview h4 {
            font-size: 20px;
            font-weight: 600;
        }
        #documentPreview h2 {
            font-size: 20px;
            font-weight: 600;
        }
        #documentPreview {
            position: relative;    /* dÃ©jÃ  prÃ©sent mais on force */
            overflow: hidden;      /* coupe l'excÃ©dent des bandes */
            }

            /* Assure que le contenu reste au-dessus des bandes */
            #documentPreview .content-layer {
            position: relative;
            z-index: 20; /* contenu au-dessus */
            }

            /* watermark sous tout le reste */
            #documentPreview .watermark {
            position: absolute;
            inset: 0;
            z-index: 1;
            pointer-events: none;
            opacity: 0.08; /* conserve ton rÃ©glage */
            }

            /* bande diagonale commune */
            .document-diag {
                position: absolute;
                width: 200%;       /* assez large pour traverser la page */
                height: 30px;       /* Ã©paisseur â€” ajuste si besoin */
                z-index: 5;        /* entre watermark(1) et content-layer(20) */
                pointer-events: none;
                -webkit-transform-origin: top left;
                transform-origin: top left;
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
            }

            /* bande verte : part du coin haut-gauche */
            .document-diag.green {
                left: 50%;
                top: -20%;
                background: #09622a; /* vert similaire Ã  tailwind green-600 */
                
                -webkit-transform: rotate(50deg);
                transform: rotate(40deg);
            }

            /* bande rouge : part du coin haut-droit et va vers la gauche */
            .document-diag.red {
                left: 50%;
                top: -15%;
                background: #ef4444; /* vert similaire Ã  tailwind green-600 */
                
                -webkit-transform: rotate(50deg);
                transform: rotate(40deg);
            }

            /* Assure impression fidÃ¨le des couleurs */
            @media print {
            .document-diag { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            }
            /* --- Diagonales (bandes) pour #printDocument --- */
            #printDocument {
                
                position: relative;
                overflow: hidden;
            }
            #printDocument {
                border: 3px solid black;   /* Ã©paisseur et couleur */
                padding: 20px;             /* espace entre le contenu et le cadre */
                border-radius: 6px;        /* coins arrondis (optionnel) */
                position: relative;
            }

            #printDocument .content-layer {
                position: relative;
                z-index: 20;
            }

            #printDocument .watermark {
                position: absolute;
                inset: 0;
                z-index: 1;
                pointer-events: none;
                opacity: 0.08;
            }
            .document-diag1 {
                position: absolute;
                top: 0;
                width: 200%;       /* assez large pour traverser la page */
                height: 8px;       /* Ã©paisseur â€” ajuste si besoin */
                z-index: 5;        /* entre watermark(1) et content-layer(20) */
                pointer-events: none;
                -webkit-transform-origin: top left;
                transform-origin: top left;
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
            }

            /* bande verte : part du coin haut-gauche */
            .document-diag.green1 {
                left: 40%;
                top: -39%;
                background: #09622a; /* vert similaire Ã  tailwind green-600 */
                
                -webkit-transform: rotate(50deg);
                transform: rotate(45deg);
            }

            /* bande rouge : part du coin haut-droit et va vers la gauche */
            .document-diag.red1 {
                left: 40%;
                top: -35%;
                background: #ef4444; /* vert similaire Ã  tailwind green-600 */
                
                -webkit-transform: rotate(50deg);
                transform: rotate(45deg);
            }

            /* Assure impression fidÃ¨le des couleurs */
            @media print {
                footer {
                    position: absolute;
                    bottom: 10mm;
                    left: 0;
                    width: 100%;
                    text-align: center;
                    font-size: 12px;
                    color: #444;
                }
                footer div {
                    border-top-width: 1px;
                    display: inline-block;
                    padding-top: 6px;
                    border-color: #aaa;
                }
            }


            @media print {
            .document-diag1 { -webkit-print-color-adjust: exact; print-color-adjust: exact; }

            }
            .document-preview {
                position: relative;
                background: none; /* on retire le background direct pour ne pas dupliquer */
            }

            .document-preview::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url('new_logo_sb.png');
                background-repeat: no-repeat;
                background-position: center;
                background-size: 600px 600px; /* taille du logo */
                opacity: 0.12; /* augmente la visibilitÃ© (0.3 Ã  0.7 selon ton besoin) */
                z-index: 0; /* reste en arriÃ¨re */
                
            }

            .document-preview .content-layer {
                position: relative;
                z-index: 1; /* assure que le texte est au-dessus du logo */
            }
            .document-container {
                position: relative;
                background: none; /* on retire tout background direct */
            }

        .document-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('new_logo_sb.png');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 800px 800px; /* ajuste la taille du logo pour l'impression */
            opacity: 0.1; /* ajuste la transparence (0.2 discret, 0.5 plus visible) */
            z-index: 0; /* en arriÃ¨re-plan */
        }

        .document-container .content-layer {
            position: relative;
            z-index: 1; /* assure que le texte est au-dessus */
        }
        
        .custom-margin {
            margin-top: 15%;
             /* ajuste selon ton besoin */
            }
            
        /* Styles pour le QR Code */
        .qr-container {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 10;
        }
        
        .qr-code {
            width: 80px;
            height: 80px;
        }
        
        @media print {
            .qr-container {
                top: 87%;
                left: 75%;
            }

            .qr-code {
                width: 200px;
                height: 200px;
            }
        }

                    
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-white shadow-md no-print" style="background-color:rgba(44, 62, 80, 0.95);
;">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div>
                        <h1 class="text-2xl font-bold text-white">Ø§Ù„Ø±Ø§Ø¨Ø·Ø© Ø§Ù„ÙˆÙ„Ø§Ø¦ÙŠØ© Ù„ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… ÙˆÙ‡Ø±Ø§Ù†</h1>
                        <p class="text-white">Ù…Ù†ØµØ© Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªÙƒÙ„ÙŠÙ</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2 space-x-reverse">

                    <button id="clearBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i class="fas fa-trash ml-2"></i>Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                    </button>
                    
            
                    <button onclick="printDocument()" id="printBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <i class="fas fa-print ml-2"></i>Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø£Ù…Ø±
                    </button>



                    
                    
                    
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-6 no-print">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="form-section bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-edit ml-3 text-blue-600"></i>
                    Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ù…Ø±
                </h2>
                
                <form id="assignmentForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ø§Ø³Ù…</label>
                            <input type="text" id="firstName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ù„Ù‚Ø¨</label>
                            <input type="text" id="lastName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù„Ù‚Ø¨">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„ØµÙØ©</label>
                        <input type="text" id="position" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØµÙØ© (Ù…Ø«Ù„: Ø­ÙƒÙ…ØŒ Ù…Ø¯Ø±Ø¨ØŒ Ø¥Ø¯Ø§Ø±ÙŠ...)">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ù…Ù‡Ù…Ø©</label>
                        <textarea id="mission" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù…ÙƒÙ„Ù Ø¨Ù‡Ø§"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
                            <select id="state" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>
                                    <option value="Ø£Ø¯Ø±Ø§Ø±">Ø£Ø¯Ø±Ø§Ø±</option>
                                    <option value="Ø§Ù„Ø´Ù„Ù">Ø§Ù„Ø´Ù„Ù</option>
                                    <option value="Ø§Ù„Ø£ØºÙˆØ§Ø·">Ø§Ù„Ø£ØºÙˆØ§Ø·</option>
                                    <option value="Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ">Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ</option>
                                    <option value="Ø¨Ø§ØªÙ†Ø©">Ø¨Ø§ØªÙ†Ø©</option>
                                    <option value="Ø¨Ø¬Ø§ÙŠØ©">Ø¨Ø¬Ø§ÙŠØ©</option>
                                    <option value="Ø¨Ø³ÙƒØ±Ø©">Ø¨Ø³ÙƒØ±Ø©</option>
                                    <option value="Ø¨Ø´Ø§Ø±">Ø¨Ø´Ø§Ø±</option>
                                    <option value="Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©">Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©</option>
                                    <option value="Ø§Ù„Ø¨ÙˆÙŠØ±Ø©">Ø§Ù„Ø¨ÙˆÙŠØ±Ø©</option>
                                    <option value="ØªÙ…Ù†Ø±Ø§Ø³Øª">ØªÙ…Ù†Ø±Ø§Ø³Øª</option>
                                    <option value="ØªØ¨Ø³Ø©">ØªØ¨Ø³Ø©</option>
                                    <option value="ØªÙ„Ù…Ø³Ø§Ù†">ØªÙ„Ù…Ø³Ø§Ù†</option>
                                    <option value="ØªÙŠØ§Ø±Øª">ØªÙŠØ§Ø±Øª</option>
                                    <option value="ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ">ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option>
                                    <option value="Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                                    <option value="Ø§Ù„Ø¬Ù„ÙØ©">Ø§Ù„Ø¬Ù„ÙØ©</option>
                                    <option value="Ø¬ÙŠØ¬Ù„">Ø¬ÙŠØ¬Ù„</option>
                                    <option value="Ø³Ø·ÙŠÙ">Ø³Ø·ÙŠÙ</option>
                                    <option value="Ø³Ø¹ÙŠØ¯Ø©">Ø³Ø¹ÙŠØ¯Ø©</option>
                                    <option value="Ø³ÙƒÙŠÙƒØ¯Ø©">Ø³ÙƒÙŠÙƒØ¯Ø©</option>
                                    <option value="Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³">Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³</option>
                                    <option value="Ø¹Ù†Ø§Ø¨Ø©">Ø¹Ù†Ø§Ø¨Ø©</option>
                                    <option value="Ù‚Ø§Ù„Ù…Ø©">Ù‚Ø§Ù„Ù…Ø©</option>
                                    <option value="Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©">Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                                    <option value="Ø§Ù„Ù…Ø¯ÙŠØ©">Ø§Ù„Ù…Ø¯ÙŠØ©</option>
                                    <option value="Ù…Ø³ØªØºØ§Ù†Ù…">Ù…Ø³ØªØºØ§Ù†Ù…</option>
                                    <option value="Ø§Ù„Ù…Ø³ÙŠÙ„Ø©">Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option>
                                    <option value="Ù…Ø¹Ø³ÙƒØ±">Ù…Ø¹Ø³ÙƒØ±</option>
                                    <option value="ÙˆØ±Ù‚Ù„Ø©">ÙˆØ±Ù‚Ù„Ø©</option>
                                    <option value="ÙˆÙ‡Ø±Ø§Ù†">ÙˆÙ‡Ø±Ø§Ù†</option>
                                    <option value="Ø§Ù„Ø¨ÙŠØ¶">Ø§Ù„Ø¨ÙŠØ¶</option>
                                    <option value="Ø¥Ù„ÙŠØ²ÙŠ">Ø¥Ù„ÙŠØ²ÙŠ</option>
                                    <option value="Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬">Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬</option>
                                    <option value="Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³">Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</option>
                                    <option value="Ø§Ù„Ø·Ø§Ø±Ù">Ø§Ù„Ø·Ø§Ø±Ù</option>
                                    <option value="ØªÙ†Ø¯ÙˆÙ">ØªÙ†Ø¯ÙˆÙ</option>
                                    <option value="ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª">ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª</option>
                                    <option value="Ø§Ù„ÙˆØ§Ø¯ÙŠ">Ø§Ù„ÙˆØ§Ø¯ÙŠ</option>
                                    <option value="Ø®Ù†Ø´Ù„Ø©">Ø®Ù†Ø´Ù„Ø©</option>
                                    <option value="Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³">Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option>
                                    <option value="ØªÙŠØ¨Ø§Ø²Ø©">ØªÙŠØ¨Ø§Ø²Ø©</option>
                                    <option value="Ù…ÙŠÙ„Ø©">Ù…ÙŠÙ„Ø©</option>
                                    <option value="Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰">Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰</option>
                                    <option value="Ø§Ù„Ù†Ø¹Ø§Ù…Ø©">Ø§Ù„Ù†Ø¹Ø§Ù…Ø©</option>
                                    <option value="Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª">Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª</option>
                                    <option value="ØºØ±Ø¯Ø§ÙŠØ©">ØºØ±Ø¯Ø§ÙŠØ©</option>
                                    <option value="ØºÙ„ÙŠØ²Ø§Ù†">ØºÙ„ÙŠØ²Ø§Ù†</option>
                                    <option value="ØªÙŠÙ…ÙŠÙ…ÙˆÙ†">ØªÙŠÙ…ÙŠÙ…ÙˆÙ†</option>
                                    <option value="Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±">Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±</option>
                                    <option value="Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„">Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„</option>
                                    <option value="Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³">Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³</option>
                                    <option value="Ø¥Ù† ØµØ§Ù„Ø­">Ø¥Ù† ØµØ§Ù„Ø­</option>
                                    <option value="Ø¥Ù† Ù‚Ø²Ø§Ù…">Ø¥Ù† Ù‚Ø²Ø§Ù…</option>
                                    <option value="ØªÙ‚Ø±Øª">ØªÙ‚Ø±Øª</option>
                                    <option value="Ø¬Ø§Ù†Øª">Ø¬Ø§Ù†Øª</option>
                                    <option value="Ø§Ù„Ù…ØºÙŠØ±">Ø§Ù„Ù…ØºÙŠØ±</option>
                                    <option value="Ø§Ù„Ù…Ù†ÙŠØ¹Ø©">Ø§Ù„Ù…Ù†ÙŠØ¹Ø©</option>

                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
                            <input type="text" id="municipality" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                            <input type="date" id="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„ØªÙˆÙ‚ÙŠØª</label>
                            <input type="time" id="time" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                        <textarea id="notes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)"></textarea>
                    </div>
                </form>
            </div>
            
            <div class="bg-white rounded-lg shadow-lg p-6">

                <div class="document-preview bg-gray-50 p-4 rounded border relative" id="documentPreview">
                    <div class="document-diag green" aria-hidden="true"></div>
                    <div class="document-diag red" aria-hidden="true"></div>

                    <div class="content-layer">
                        <div class="text-center mb-6">
                            <img src="logo_reg.png" style="width: 15%;" alt="Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ© Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©" class="mx-auto">
                            <h4 class="text-md font-semibold text-gray-700 mt-2">Ø§Ù„Ø±Ø§Ø¨Ø·Ù€Ù€Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ø¬Ù‡ÙˆÙŠÙ€Ù€Ù€Ù€Ù€Ù€Ø© Ù„ÙƒÙ€Ù€Ù€Ù€Ù€Ù€Ø±Ø© Ø§Ù„Ù‚Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ø¯Ù… ÙˆÙ‡Ù€Ù€Ù€Ù€Ø±Ø§Ù†</h4>
                            <div class="mt-4 text-right">
                            </div>
                        </div>
                        <div class="text-right custom-margin">
                        <span class="bg-gray-200 px-5 py-3 rounded-lg text-lg font-mono text-left ">
                        Ø§Ù„Ø±Ù‚Ù…: ____ 
                        </span>
                        </div>
                        <div class="text-center mb-6">
                            <h2 class="text-xl font-bold text-gray-800 ">Ø£Ù…Ù€Ù€Ù€Ù€Ø± Ø¨Ù…Ù‡Ù…Ù€Ù€Ù€Ù€Ù€Ù€Ù€Ø©</h2>
                        </div>
                        
                        <div class="space-y-4 text-lg">
                            <div class="grid grid-cols-2 gap-4">
                                <div><strong>Ø§Ù„Ø§Ø³Ù…:</strong> <span id="previewFirstName" class="text-gray-600">-</span></div>
                                <div><strong>Ø§Ù„Ù„Ù‚Ø¨:</strong> <span id="previewLastName" class="text-gray-600">-</span></div>
                            </div>
                            
                            <div><strong>Ø§Ù„ØµÙØ©:</strong> <span id="previewPosition" class="text-gray-600">-</span></div>
                            
                            <div><strong>Ø§Ù„Ù…Ù‡Ù…Ø©:</strong> <span id="previewMission" class="text-gray-600">-</span></div>

                            <div class="grid grid-cols-2 gap-4">
                                <div><strong>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©:</strong> <span id="previewState" class="text-gray-600">-</span></div>
                                <div><strong>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©:</strong> <span id="previewMunicipality" class="text-gray-600">-</span></div>
                            </div>
                            
                            <div><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> <span id="previewDate" class="text-gray-600">-</span><span id="previewTime" class="text-gray-600 mr-4"></span></div>
                            
                            <div><strong>Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</strong> <span id="previewNotes" class="text-gray-600">-</span></div>
                        </div>
                        
                        <!-- QR Code dans l'aperÃ§u -->
                        <div class="qr-container">
                            <div id="qrcode"></div>
                            <p class="text-xs text-center mt-1 text-gray-600">QR Ù„Ù„ØªØ­Ù‚Ù‚</p>
                        </div>

                        <div class="mt-8 pt-6 border-t">
                                <p class="text-right font-semibold mb-10">
                                    Ø§Ù„Ù…Ø·Ù„Ù€Ù€Ù€ÙˆØ¨ Ù…Ù€Ù€Ù€Ù† ÙƒÙ€Ù€Ù„ Ø§Ù„Ø³Ù„Ø·Ù€Ù€Ù€Ø§Øª ØªØ³Ù‡ÙŠÙ€Ù€Ù€Ù€Ù„ Ø§Ù„Ù…Ù‡Ù…Ù€Ù€Ù€Ù€Ø© Ù„Ø­Ø§Ù…Ù„Ù€Ù€Ù€Ù€ÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ù€Ù€Ù€Ø©.
                                </p>
                            <div class="grid grid-cols-2 gap-8">
                                <div><p class="font-semibold mb-4" id="date_n">ÙˆÙ‡Ø±Ø§Ù† ÙÙŠ :</p></div>
                                <div class="text-center">
                                    <p class="font-semibold mb-4">Ø§Ù„Ø§Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</p>
                                    <div class="signature-box rounded flex items-center justify-center">
                                        <span class="text-gray-400">Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ ÙˆØ§Ù„Ø®ØªÙ…</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="print-only">

        <div class="document-container" id="printDocument">

            <div class="document-diag green1" aria-hidden="true"></div>
            <div class="document-diag red1" aria-hidden="true"></div>

            <div class="content-layer p-8">
                <div class="text-center mb-8">
                    <img src="logo_reg.png" style="width: 17%;" alt="Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ© Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©" class="mx-auto">
                    <h4 class="text-md font-bold text-gray-900 mt-3">Ø§Ù„Ø±Ø§Ø¨Ø·Ù€Ù€Ù€Ù€Ù€Ø© Ø§Ù„Ø¬Ù‡ÙˆÙŠÙ€Ù€Ù€Ù€Ù€Ø© Ù„ÙƒÙ€Ù€Ù€Ù€Ù€Ø±Ø© Ø§Ù„Ù‚Ù€Ù€Ù€Ù€Ø¯Ù… ÙˆÙ‡Ù€Ù€Ù€Ù€Ø±Ø§Ù†</h4>
                    <h4 class="text-md font-bold text-gray-900 ">Regional Football League of Oran</h4>

                </div>
                    <div class="text-right mt-12">
                        <span class="bg-gray-200 px-5 py-3 rounded-lg text-lg font-mono text-left ">
                        Ø§Ù„Ø±Ù‚Ù…: ______ 
                        </span>
                    </div>

                <div class="text-center mb-8">
                    <h2 class="text-6xl font-bold text-gray-800 ">Ø£Ù…Ù€Ø± Ø¨Ù…Ù‡Ù…Ø©</h2>
                </div>
                
                <div class="space-y-6 text-lg">
                    <div class="grid grid-cols-2 gap-8">
                        <div><strong>Ø§Ù„Ø§Ø³Ù…:</strong> <span id="printFirstName" class="text-gray-700">-</span></div>
                        <div><strong>Ø§Ù„Ù„Ù‚Ø¨:</strong> <span id="printLastName" class="text-gray-700">-</span></div>
                    </div>
                    
                    <div><strong>Ø§Ù„ØµÙØ©:</strong> <span id="printPosition" class="text-gray-700">-</span></div>
                    
                    <div><strong>Ø§Ù„Ù…Ù‡Ù…Ø©:</strong> <span id="printMission" class="text-gray-700">-</span></div>

                    <div class="grid grid-cols-2 gap-8">
                        <div><strong>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©:</strong> <span id="printState" class="text-gray-700">-</span></div>
                        <div><strong>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©:</strong> <span id="printMunicipality" class="text-gray-700">-</span></div>
                    </div>
                    
                    <div><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> <span id="printDate" class="text-gray-700">-</span><span id="printTime" class="text-gray-700 mr-4"></span></div>

                    <div><strong>Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</strong> <span id="printNotes" class="text-gray-700">-</span></div>

                </div>
                
                <!-- QR Code dans la version imprimÃ©e -->
                <div class="qr-container">
                    <div id="printQrcode"></div>
                    <p class="text-xs text-center mt-1 text-gray-600">QR Ù„Ù„ØªØ­Ù‚Ù‚</p>
                </div>

                <div class="mt-0 pt-8 ">
                    <div class="border-2 border-gray-600 rounded-lg px-6 py-3 text-center w-full">
                        <p class="font-bold text-gray-800">
                           Ø¹Ù„Ù€Ù€Ù€Ù‰ ÙƒØ§ÙÙ€Ù€Ù€Ù€Ø© Ø§Ù„Ø³Ù„Ø·Ù€Ù€Ù€Ø§Øª ØªØ³Ù‡ÙŠÙ€Ù€Ù€Ù€Ù„ Ø§Ù„Ù…Ù‡Ù…Ù€Ù€Ù€Ù€Ø© Ù„Ø­Ø§Ù…Ù€Ù€Ù€Ù€Ù„ Ù‡Ù€Ù€Ù€Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ù€Ù€Ù€Ø© Ùˆ ØªÙ…ÙƒÙŠÙ†Ù€Ù€Ù€Ù€Ù‡ Ù…Ù€Ù€Ù€Ù† Ø£Ø¯Ø§Ø¡ Ù…Ù‡Ø§Ù…Ù€Ù€Ù€Ù‡ Ø¯ÙˆÙ† Ø£ÙŠ Ø¹ÙˆØ§Ø¦Ù€Ù€Ù€Ù€Ù‚.
                        </p>
                      </div>
                    <div class="grid grid-cols-2 gap-16 mt-10" >
                        <div><p class="font-semibold mb-4" id="date_nn">ÙˆÙ‡Ø±Ø§Ù† ÙÙŠ :</p></div>

                        <div class="text-center">
                            <p class="font-bold text-xl mb-8">Ø§Ù„Ø£Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</p>
                            <div class="border-2 border-dashed border-gray-400 rounded h-24 flex items-center justify-center">
                                <span class="text-gray-500 text-lg">Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ ÙˆØ§Ù„Ø®ØªÙ…</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- âœ… Footer imprimable -->
            <footer class="text-center text-sm text-gray-700 mt-16 pt-4 print-only">
                <div class="inline-block border-t border-gray-400 px-8 pt-2 w-5/6">
                    <p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ : <span class="font-semibold"> lrforan31@gmail.com</span></p>
                    <p>ğŸ¢ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† : 05 Ø´Ø§Ø±Ø¹ Ø§Ù„Ù†ÙÙŠØ¨ Ø­Ø¶Ø±ÙŠ Ù…Ø­Ù…Ø¯ - ÙˆÙ‡Ø±Ø§Ù†</p>
                    <p>ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ : <span class="font-semibold">www.lrf-oran.com</span></p>
                </div>
            </footer>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const dateElement = document.getElementById("date_n");

        // Tableau des mois en arabe
        const mois = [
        "Ø¬Ø§Ù†ÙÙŠ", "ÙÙŠÙØ±ÙŠ", "Ù…Ø§Ø±Ø³", "Ø£ÙØ±ÙŠÙ„", "Ù…Ø§ÙŠ", "Ø¬ÙˆØ§Ù†",
        "Ø¬ÙˆÙŠÙ„ÙŠØ©", "Ø£ÙˆØª", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"
        ];

        const today = new Date();
        const jour = today.getDate();
        const moisNom = mois[today.getMonth()];
        const annee = today.getFullYear();

        // Ex: 20 Ø£ÙˆØª 2025
        const dateFormatee = `${jour} ${moisNom} ${annee}`;

        // Remplacer le texte
        dateElement.textContent = `ÙˆÙ‡Ø±Ø§Ù† ÙÙŠ : ${dateFormatee}`;
    });
    document.addEventListener("DOMContentLoaded", function () {
        const dateElement = document.getElementById("date_nn");

        // Tableau des mois en arabe
        const mois = [
        "Ø¬Ø§Ù†ÙÙŠ", "ÙÙŠÙØ±ÙŠ", "Ù…Ø§Ø±Ø³", "Ø£ÙØ±ÙŠÙ„", "Ù…Ø§ÙŠ", "Ø¬ÙˆØ§Ù†",
        "Ø¬ÙˆÙŠÙ„ÙŠØ©", "Ø£ÙˆØª", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"
        ];

        const today = new Date();
        const jour = today.getDate();
        const moisNom = mois[today.getMonth()];
        const annee = today.getFullYear();

        // Ex: 20 Ø£ÙˆØª 2025
        const dateFormatee = `${jour} ${moisNom} ${annee}`;

        // Remplacer le texte
        dateElement.textContent = `ÙˆÙ‡Ø±Ø§Ù† ÙÙŠ : ${dateFormatee}`;
    });
        const formInputs = ['firstName', 'lastName', 'position', 'mission', 'state', 'municipality', 'date', 'time', 'notes'];

        // Met la date d'aujourd'hui par dÃ©faut dans le champ date
        document.getElementById('date').valueAsDate = new Date();

        // Formate une date en chaÃ®ne de caractÃ¨res arabe (ex: 22 Ø£ÙˆØª 2025)
        function formatArabicDate(dateString) {
            if (!dateString) return '-';
            
            const date = new Date(dateString);
            const correctedDate = new Date(date.getTime() + date.getTimezoneOffset() * 60000);

            const months = [
                "Ø¬Ø§Ù†ÙÙŠ", "ÙÙŠÙØ±ÙŠ", "Ù…Ø§Ø±Ø³", "Ø£ÙØ±ÙŠÙ„", "Ù…Ø§ÙŠ", "Ø¬ÙˆØ§Ù†",
                "Ø¬ÙˆÙŠÙ„ÙŠØ©", "Ø£ÙˆØª", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"
            ];
            
            const day = correctedDate.getDate();
            const monthName = months[correctedDate.getMonth()];
            const year = correctedDate.getFullYear();
            
            return `${day} ${monthName} ${year}`;
        }

        // GÃ©nÃ¨re le contenu de la page web qui sera affichÃ© via le QR code
        function generateMissionPageContent(formData) {
            const formattedDate = formatArabicDate(formData.date);
            const formattedTime = formData.time ? `Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø© ${formData.time}` : '';
            
            return `
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Amiri', serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .mission-card { background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .header-gradient { background: linear-gradient(135deg, #09622a 0%, #064e20 100%); }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="mission-card w-full max-w-2xl overflow-hidden">
        <div class="header-gradient text-white py-6 px-8 text-center">
            <img src="logo_reg.png" alt="Ø§Ù„Ø´Ø¹Ø§Ø±" class="w-24 mx-auto mb-4">
            <h1 class="text-3xl font-bold">Ø£Ù…Ø± Ø§Ù„Ù…Ù‡Ù…Ø©</h1>
            <p class="text-lg opacity-90">Ø§Ù„Ø±Ø§Ø¨Ø·Ø© Ø§Ù„Ø¬Ù‡ÙˆÙŠØ© Ù„ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… ÙˆÙ‡Ø±Ø§Ù†</p>
        </div>
        
        <div class="p-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-green-600 font-bold mb-2">Ø§Ù„Ù…ÙƒÙ„Ù Ø¨Ø§Ù„Ù…Ù‡Ù…Ø©</h3>
                    <p class="text-xl">${formData.firstName} ${formData.lastName}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-green-600 font-bold mb-2">Ø§Ù„ØµÙØ©</h3>
                    <p class="text-xl">${formData.position}</p>
                </div>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg mb-6">
                <h3 class="text-green-600 font-bold mb-2">Ø§Ù„Ù…Ù‡Ù…Ø©</h3>
                <p class="text-lg">${formData.mission}</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-green-600 font-bold mb-2">Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
                    <p class="text-lg">${formData.municipality} - ${formData.state}</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-green-600 font-bold mb-2">Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª</h3>
                    <p class="text-lg">${formattedDate} ${formattedTime}</p>
                </div>
            </div>
            
            ${formData.notes ? `
            <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                <h3 class="text-yellow-600 font-bold mb-2">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</h3>
                <p class="text-lg">${formData.notes}</p>
            </div>
            ` : ''}
            
            <div class="mt-8 pt-6 border-t border-gray-200 text-center">
                <p class="text-gray-600">Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡Ø§ Ø¹Ø¨Ø± QR Code</p>
                <p class="text-sm text-gray-500 mt-2">${new Date().toLocaleDateString('ar-EG')}</p>
            </div>
        </div>
    </div>
</body>
</html>
            `;
        }



        function generateQRCode() {
            const formData = {
                firstName: document.getElementById('firstName').value || '',
                lastName: document.getElementById('lastName').value || '',
                mission: document.getElementById('mission').value || '',
                state: document.getElementById('state').value || '',
                municipality: document.getElementById('municipality').value || '',
                date: document.getElementById('date').value || '',
                time: document.getElementById('time').value || ''
            };
        
            // Fonction pour encoder Unicode en Base64
            function base64EncodeUnicode(str) {
                return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,
                    function(match, p1) {
                        return String.fromCharCode('0x' + p1);
                    }));
            }
        
            const encodedData = base64EncodeUnicode(JSON.stringify(formData));
        
            const missionURL = `https://ouness1434.github.io/ordremission/mission.html?data=${encodedData}`;
        
            const qrcodeContainer = document.getElementById("printQrcode");
            qrcodeContainer.innerHTML = "";
            new QRCode(qrcodeContainer, {
                text: missionURL,
                width: 120,  // petit mais scannable
                height: 120,
                correctLevel: QRCode.CorrectLevel.H
            });
        }






        // Met Ã  jour l'aperÃ§u avec les donnÃ©es du formulaire
        function updatePreview() {
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                position: document.getElementById('position').value,
                mission: document.getElementById('mission').value,
                state: document.getElementById('state').value,
                municipality: document.getElementById('municipality').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                notes: document.getElementById('notes').value
            };

            const formattedTime = formData.time ? `Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø© ${formData.time}` : '';

            // Mettre Ã  jour l'aperÃ§u
            document.getElementById('previewFirstName').textContent = formData.firstName || '-';
            document.getElementById('previewLastName').textContent = formData.lastName || '-';
            document.getElementById('previewPosition').textContent = formData.position || '-';
            document.getElementById('previewMission').textContent = formData.mission || '-';
            document.getElementById('previewState').textContent = formData.state || '-';
            document.getElementById('previewMunicipality').textContent = formData.municipality || '-';
            document.getElementById('previewDate').textContent = formatArabicDate(formData.date);
            document.getElementById('previewTime').textContent = formattedTime;
            document.getElementById('previewNotes').textContent = formData.notes || '-';

            // Mettre Ã  jour la version pour impression
            document.getElementById('printFirstName').textContent = formData.firstName || '-';
            document.getElementById('printLastName').textContent = formData.lastName || '-';
            document.getElementById('printPosition').textContent = formData.position || '-';
            document.getElementById('printMission').textContent = formData.mission || '-';
            document.getElementById('printState').textContent = formData.state || '-';
            document.getElementById('printMunicipality').textContent = formData.municipality || '-';
            document.getElementById('printDate').textContent = formatArabicDate(formData.date);
            document.getElementById('printTime').textContent = formattedTime;
            document.getElementById('printNotes').textContent = formData.notes || '-';

            // GÃ©nÃ©rer le QR code
            generateQRCode();
        }

        // Charge les donnÃ©es depuis le stockage local
        function loadData() {
            const savedData = localStorage.getItem('assignmentOrderData');
            if (savedData) {
                const formData = JSON.parse(savedData);
                formInputs.forEach(inputId => {
                    if (document.getElementById(inputId) && formData[inputId]) {
                        document.getElementById(inputId).value = formData[inputId];
                    }
                });
            }
            updatePreview();
        }

        // Sauvegarde les donnÃ©es dans le stockage local
        function saveData() {
            const formData = {};
            formInputs.forEach(inputId => {
                formData[inputId] = document.getElementById(inputId).value;
            });
            localStorage.setItem('assignmentOrderData', JSON.stringify(formData));
        }

        // Efface toutes les donnÃ©es du formulaire
        function clearData() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')) {
                formInputs.forEach(inputId => {
                    document.getElementById(inputId).value = '';
                });
                localStorage.removeItem('assignmentOrderData');
                document.getElementById('date').valueAsDate = new Date(); // Remet la date du jour
                updatePreview();
            }
        }

        // Lance l'impression du document
        function printDocument() {
            window.print();
        }

        // Ajoute les Ã©couteurs d'Ã©vÃ©nements aux boutons
        document.getElementById('clearBtn').addEventListener('click', clearData);
        
        // Sauvegarde automatique et mise Ã  jour
        formInputs.forEach(inputId => {
            document.getElementById(inputId).addEventListener('input', function() {
                updatePreview();
                saveData();
            });
        });

        // Initialisation
        window.addEventListener('load', () => {
            loadData();
            generateQRCode();
        });
    </script>
</body>

</html>



















